@model IEnumerable<MVC_Client.Models.MVCCustomer>
@{
    var country = (string)ViewBag.Country ?? "";
}
<h2>Customers by Country</h2>

@using (Html.BeginForm("ByCountryFetch", "Customers", FormMethod.Post)) 
{
    <div class="form-group">
        <label for="country">Country:</label>
        <input type="text" id="country" name="country" class="form-control" value="@country" placeholder="e.g., UK" />
    </div>
    <button type="submit" class="btn btn-primary">Fetch</button>
}

@if (ViewBag.Error != null) { <div class="alert alert-danger">@ViewBag.Error</div> }

@if (Model != null && Model.Any())
{
    <hr/>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>CustomerID</th><th>CompanyName</th><th>ContactName</th><th>Country</th>
            </tr>
        </thead>
        <tbody>
        @foreach (var c in Model)
        {
            <tr>
                <td>@c.CustomerID</td>
                <td>@c.CompanyName</td>
                <td>@c.ContactName</td>
                <td>@c.Country</td>
            </tr>
        }
        </tbody>
    </table>
}

